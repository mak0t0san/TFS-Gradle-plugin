<Activity mc:Ignorable="sads sap sap2010" x:Class="TfsBuild.Process" this:Process.BuildNumberFormat="[&quot;$(BuildDefinitionName)_$(Date:yyyyMMdd)$(Rev:.r)&quot;]" this:Process.CleanRepository="[True]" this:Process.AgentSettings="[New Microsoft.TeamFoundation.Build.Common.BuildParameter(&quot; { &quot;&quot;MaxExecutionTime&quot;&quot;: &quot;&quot;00:00:00&quot;&quot;, &quot;&quot;MaxWaitTime&quot;&quot;: &quot;&quot;04:00:00&quot;&quot;, &quot;&quot;Name&quot;&quot;: &quot;&quot;*&quot;&quot;, &quot;&quot;Tags&quot;&quot;: [], &quot;&quot;TagComparison&quot;&quot;: &quot;&quot;MatchExactly&quot;&quot; } &quot;)]" this:Process.CreateWorkItem="[True]" this:Process.UpdateAssociatedWorkItems="[True]" this:Process.SupportedReasons="Manual, IndividualCI, BatchedCI, Schedule, ScheduleForced, UserCreated" this:Process.BuildProcessVersion="12.0" this:Process.ContinuousDeployment="False" this:Process.WindowsVM="[New Microsoft.TeamFoundation.Build.Common.BuildParameter(&quot; { &quot;&quot;UserName&quot;&quot;: &quot;&quot;&quot;&quot;, &quot;&quot;Password&quot;&quot;: &quot;&quot;&quot;&quot;, &quot;&quot;Certificate&quot;&quot;: &quot;&quot;&quot;&quot;, &quot;&quot;ApplicationPath&quot;&quot;: &quot;&quot;&quot;&quot; } &quot;)]" this:Process.LinuxVM="[New Microsoft.TeamFoundation.Build.Common.BuildParameter(&quot; { &quot;&quot;UserName&quot;&quot;: &quot;&quot;&quot;&quot;, &quot;&quot;SSHKeyFile&quot;&quot;: &quot;&quot;&quot;&quot;, &quot;&quot;ApplicationPath&quot;&quot;: &quot;&quot;&quot;&quot; } &quot;)]"
 xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:mtba="clr-namespace:Microsoft.TeamFoundation.Build.Activities;assembly=Microsoft.TeamFoundation.Build.Activities"
 xmlns:mtbac="clr-namespace:Microsoft.TeamFoundation.Build.Activities.Core;assembly=Microsoft.TeamFoundation.Build.Activities"
 xmlns:mtbag="clr-namespace:Microsoft.TeamFoundation.Build.Activities.Git;assembly=Microsoft.TeamFoundation.Build.Activities"
 xmlns:mtbat="clr-namespace:Microsoft.TeamFoundation.Build.Activities.TeamFoundation;assembly=Microsoft.TeamFoundation.Build.Activities"
 xmlns:mtbc="clr-namespace:Microsoft.TeamFoundation.Build.Common;assembly=Microsoft.TeamFoundation.Build.Common"
 xmlns:mtbc1="clr-namespace:Microsoft.TeamFoundation.Build.Client;assembly=Microsoft.TeamFoundation.Build.Client"
 xmlns:mtbw="clr-namespace:Microsoft.TeamFoundation.Build.Workflow;assembly=Microsoft.TeamFoundation.Build.Workflow"
 xmlns:mtbwa="clr-namespace:Microsoft.TeamFoundation.Build.Workflow.Activities;assembly=Microsoft.TeamFoundation.Build.Workflow"
 xmlns:mtbwt="clr-namespace:Microsoft.TeamFoundation.Build.Workflow.Tracking;assembly=Microsoft.TeamFoundation.Build.Workflow"
 xmlns:mtvc="clr-namespace:Microsoft.TeamFoLundation.VersionControl.Client;assembly=Microsoft.TeamFoundation.VersionControl.Client"
 xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities"
 xmlns:s="clr-namespace:System;assembly=mscorlib"
 xmlns:sads="http://schemas.microsoft.com/netfx/2010/xaml/activities/debugger"
 xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation"
 xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation"
 xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib"
 xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=mscorlib"
 xmlns:this="clr-namespace:TfsBuild"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="BuildNumberFormat" Type="InArgument(x:String)" />
    <x:Property Name="CleanRepository" Type="InArgument(x:Boolean)" />
    <x:Property Name="AgentSettings" Type="InArgument(mtbc:BuildParameter)" />
    <x:Property Name="CheckoutOverride" Type="InArgument(x:String)" />
    <x:Property Name="CreateWorkItem" Type="InArgument(x:Boolean)" />
    <x:Property Name="UpdateAssociatedWorkItems" Type="InArgument(x:Boolean)" />
    <x:Property Name="Metadata" Type="mtbw:ProcessParameterMetadataCollection" />
    <x:Property Name="SupportedReasons" Type="mtbc1:BuildReason" />
    <x:Property Name="BuildProcessVersion" Type="x:String" />
    <x:Property Name="GradleBuildScript" Type="InArgument(s:String[])" />
    <x:Property Name="GradleCommand" Type="InArgument(x:String)" />
    <x:Property Name="GradleSettingsFile" Type="InArgument(s:String[])" />
    <x:Property Name="GradleWrapperBatchFile" Type="InArgument(s:String[])" />
    <x:Property Name="GradleTasks" Type="InArgument(s:String[])" />
    <x:Property Name="GradleInitScripts" Type="InArgument(s:String[])" />
    <x:Property Name="ContinuousDeployment" Type="InArgument(x:Boolean)" />
    <x:Property Name="AzureStorageContainerURL" Type="InArgument(x:String)" />
    <x:Property Name="AzureStorageAccountKey" Type="InArgument(x:String)" />
    <x:Property Name="CloudServiceName" Type="InArgument(x:String)" />
    <x:Property Name="WindowsVM" Type="InArgument(mtbc:BuildParameter)" />
    <x:Property Name="LinuxVM" Type="InArgument(mtbc:BuildParameter)" />
    <x:Property Name="AzureSubscriptionName" Type="InArgument(x:String)" />
    <x:Property Name="DeploymentMSIPath" Type="InArgument(x:String)" />
  </x:Members>
  <this:Process.CheckoutOverride>
    <InArgument x:TypeArguments="x:String" />
  </this:Process.CheckoutOverride>
  <this:Process.Metadata>
    <mtbw:ProcessParameterMetadataCollection>
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Category="#100 Git" Description="Set this to true to start with a clean repository on each build." DisplayName="1. Clean repository" ParameterName="CleanRepository" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Category="#100 Git" Description="Specify the id of a checkout to override the default branch and commit." DisplayName="2. Checkout override" ParameterName="CheckoutOverride" />
      <mtbw:ProcessParameterMetadata Category="#200 Gradle Build" Description="Specify the gradle command to be used for this build" DisplayName="1. Gradle Command" Editor="@DropDownList=gradle,gradlew" ParameterName="GradleCommand" Required="True" />
      <mtbw:ProcessParameterMetadata Category="#200 Gradle Build" Description="Relative path to the Gradle Build Script you want to build. This will be executed with the -b option." DisplayName="2. Gradle Build Script" Editor="Microsoft.TeamFoundation.Build.Controls.BuildProjectListRelativePathEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="GradleBuildScript" Required="True" />
      <mtbw:ProcessParameterMetadata Category="#200 Gradle Build" Description="Specify the Gradle Task(s) to be executed" DisplayName="3. Gradle Task(s)" ParameterName="GradleTasks" Required="True" />
      <mtbw:ProcessParameterMetadata Category="#200 Gradle Build" Description="Applicable only if Gradle comand is &quot;gradlew&quot;. Relative path to the Gradle Wrapper Batch file (gradlew.bat)" DisplayName="4. Gradle Wrapper Batch File" Editor="Microsoft.TeamFoundation.Build.Controls.BuildProjectListRelativePathEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="GradleWrapperBatchFile" />
      <mtbw:ProcessParameterMetadata Category="#300 Gradle Advanced" Description="Relative path to the Gradle Init Script(s). This will be executed with the -I option." DisplayName="1. Gradle Init Script(s)" Editor="Microsoft.TeamFoundation.Build.Controls.BuildProjectListRelativePathEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="GradleInitScripts" />
      <mtbw:ProcessParameterMetadata Category="#300 Gradle Advanced" Description="Relative path to the Gradle Settings file. This will be executed with the -c option." DisplayName="2. Gradle Settings File" Editor="Microsoft.TeamFoundation.Build.Controls.BuildProjectListRelativePathEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="GradleSettingsFile" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Set this to true for continuous deployment." DisplayName="1. Continuous Deployment" ParameterName="ContinuousDeployment" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the Azure Subscription Name which hosts the Cloud Service" DisplayName="3. Azure Subscription Name" ParameterName="AzureSubscriptionName" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the full path of the folder containing the Deployment MSI" DisplayName="2. Deployment MSI Path" ParameterName="DeploymentMSIPath" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the Azure Storage Container URL. Build binaries will be uploaded to this container" DisplayName="4. Azure Storage Container URL" ParameterName="AzureStorageContainerURL" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the Azure Storage Account Key to connect to the Container" DisplayName="5. Azure Storage Account Key" Editor="" ParameterName="AzureStorageAccountKey" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the name of the Cloud Service which hosts the VMs" DisplayName="6. Cloud Service Name" Editor="" ParameterName="CloudServiceName" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the details to connect to Windows Azure VM(s)" DisplayName="7. Windows VM" ParameterName="WindowsVM" ValueFormatString=" " />
      <mtbw:ProcessParameterMetadata Category="" Description="User Name for Windows VM(s)" DisplayName="7.1. User Name" ParameterName="WindowsVM.UserName" />
      <mtbw:ProcessParameterMetadata Category="" Description="Password for Windows VM(s)" DisplayName="7.2. Password" ParameterName="WindowsVM.Password" />
      <mtbw:ProcessParameterMetadata Category="" Description="Provide the full path to the SSL Certificate" DisplayName="7.3. SSL Certificate" ParameterName="WindowsVM.Certificate" />
      <mtbw:ProcessParameterMetadata Category="" Description="Specify the location to which the application should be deployed to." DisplayName="7.4. Application Path" ParameterName="WindowsVM.ApplicationPath" />
      <mtbw:ProcessParameterMetadata Category="#400 Continuous Deployment" Description="Provide the details to connect to Linux Azure VM(s)" DisplayName="8. Linux VM" ParameterName="LinuxVM" ValueFormatString=" " />
      <mtbw:ProcessParameterMetadata Category="" Description="User Name for Linux VM(s)" DisplayName="6.1. User Name" ParameterName="LinuxVM.UserName" />
      <mtbw:ProcessParameterMetadata Category="" Description="Provide the full path to the SSH Key file" DisplayName="8.2. SSH Key File" Editor="" ParameterName="LinuxVM.SSHKeyFile" />
      <mtbw:ProcessParameterMetadata Category="" Description="Specify the location to which the application should be deployed to" DisplayName="8.3. Application Path" ParameterName="LinuxVM.ApplicationPath" />
      <mtbw:ProcessParameterMetadata Category="#500 Advanced" Description="Specify the format for the number of this build." DisplayName="Build number format" Editor="Microsoft.TeamFoundation.Build.Controls.BuildNumberFormatEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="BuildNumberFormat" />
      <mtbw:ProcessParameterMetadata Category="#500 Advanced" Description="Specify the Name and/or Tags (and other properties) that will be used to select an appropriate Agent for the build." DisplayName="Agent settings" ParameterName="AgentSettings" ValueFormatString="Use agent where Name={Name} and Tags={Tags} ({TagComparison})" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Description="Specify the maximum amount of time that you want to allow for this part of the work flow to run. The default value is zero which means there is no timeout." DisplayName="Maximum agent execution time" Editor="@Type=TimeSpan" ParameterName="AgentSettings.MaxExecutionTime" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Description="Specify the maximum amount of time that you want to allow waiting for an agent. The default value is zero which means there is no timeout." DisplayName="Maximum agent reservation wait time" Editor="@Type=TimeSpan" ParameterName="AgentSettings.MaxWaitTime" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Description="Specify the agent to use for this remote execution by display name (this is not the computer name). Supported wildcard characters include '*' and '?'." DisplayName="Name filter" Editor="Microsoft.TeamFoundation.Build.Controls.BuildAgentSelectionEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="AgentSettings.Name" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Description="Specify the comparison method to use for tags when selecting a build agent. MatchExactly, MatchAtLeast" DisplayName="Tag comparison operator" Editor="@DropDownList=MatchExactly,MatchAtLeast" ParameterName="AgentSettings.TagComparison" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Description="Specify the tags used to select the build agent." DisplayName="Tags filter" Editor="Microsoft.TeamFoundation.Build.Controls.TagsEditor, Microsoft.TeamFoundation.Build.Controls" ParameterName="AgentSettings.Tags" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Category="#500 Advanced" Description="Set this to true to create a work item when the build fails." DisplayName="Create work item on failure" ParameterName="CreateWorkItem" />
      <mtbw:ProcessParameterMetadata BrowsableWhen="Always" Category="#500 Advanced" Description="Set this to true to update the associated work items by setting the Fixed In Build field to the build number of this build." DisplayName="Update work items with build number" ParameterName="UpdateAssociatedWorkItems" />
    </mtbw:ProcessParameterMetadataCollection>
  </this:Process.Metadata>
  <mva:VisualBasic.Settings>
    <x:Null />
  </mva:VisualBasic.Settings>
  <sap2010:WorkflowViewState.IdRef>TfsBuild.Process_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <sco:Collection x:TypeArguments="x:String">
      <x:String>System.Activities.XamlIntegration</x:String>
      <x:String>System.Activities.Validation</x:String>
      <x:String>System.Activities</x:String>
      <x:String>System.Activities.Statements</x:String>
      <x:String>System.Activities.Expressions</x:String>
      <x:String>Microsoft.TeamFoundation</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Client</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Common</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Workflow</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Workflow.Activities</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Activities</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Activities.Core</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Activities.Git</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Workflow.Tracking</x:String>
      <x:String>Microsoft.TeamFoundation.TestImpact.BuildIntegration.BuildActivities</x:String>
      <x:String>Microsoft.TeamFoundation.VersionControl.Client</x:String>
      <x:String>Microsoft.TeamFoundation.VersionControl.Common</x:String>
      <x:String>Microsoft.VisualBasic.Activities</x:String>
      <x:String>System</x:String>
      <x:String>System.Activities.Debugger</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Windows.Markup</x:String>
      <x:String>TfsBuild</x:String>
      <x:String>Microsoft.TeamFoundation.Build.Activities.Extensions</x:String>
    </sco:Collection>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <sco:Collection x:TypeArguments="AssemblyReference">
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.Common</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.Build.Client</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.Build.Common</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.Build.Workflow</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.Build.Activities</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.TestImpact.BuildIntegration</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.VersionControl.Client</AssemblyReference>
      <AssemblyReference>Microsoft.TeamFoundation.VersionControl.Common</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>BuildProcessSource</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Composition</AssemblyReference>
    </sco:Collection>
  </TextExpression.ReferencesForImplementation>
  <Sequence DisplayName="Overall build process" sap2010:WorkflowViewState.IdRef="Sequence_6">
    <mtbac:SetBuildNumber DropLocation="{x:Null}" BuildNumberFormat="[BuildNumberFormat]" DisplayName="Update build number" sap2010:WorkflowViewState.IdRef="SetBuildNumber_1" />
    <mtbwa:AgentScope DataToIgnore="" DisplayName="Run on agent" sap2010:WorkflowViewState.IdRef="AgentScope_1" MaxExecutionTime="[AgentSettings.GetValue(Of TimeSpan)(&quot;MaxExecutionTime&quot;, New System.TimeSpan(0,0,0))]" MaxWaitTime="[AgentSettings.GetValue(Of TimeSpan)(&quot;MaxWaitTime&quot;, New System.TimeSpan(4,0,0))]" ReservationSpec="[AgentSettings.CreateAgentReservationSpec()]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces">
      <mtbwa:AgentScope.Variables>
        <Variable x:TypeArguments="x:String" Name="gradleHome" />
        <Variable x:TypeArguments="x:String" Default="\bin\gradle.bat" Name="gradleBatFile" />
        <Variable x:TypeArguments="x:String" Name="gradleBuildScriptLocalPath" />
        <Variable x:TypeArguments="x:String" Name="gradleBuildScriptName" />
        <Variable x:TypeArguments="x:String" Name="gradleBuildScriptRelativePath" />
        <Variable x:TypeArguments="x:String" Name="gradleCommandExecution" />
        <Variable x:TypeArguments="x:String" Name="gradleCommandOptions" />
        <Variable x:TypeArguments="x:String" Name="localPath" />
        <Variable x:TypeArguments="x:String" Name="gradleBuildOutputPath" />
        <Variable x:TypeArguments="x:String" Name="azCopyPath" />
        <Variable x:TypeArguments="x:String" Name="azCopyCmdArgs" />
        <Variable x:TypeArguments="mtbc1:IBuildDetail" Name="buildDetail" />
        <Variable x:TypeArguments="x:String" Name="buildNumber" />
        <Variable x:TypeArguments="x:String" Default="DeployToAzureVMs.msi" Name="deploymentMSIFileName" />
        <Variable x:TypeArguments="x:String" Default="\build" Name="gradleBuildDir" />
        <Variable x:TypeArguments="x:Boolean" Default="False" Name="vmInputsProvided" />
        <Variable x:TypeArguments="x:String" Name="msiExecCmd" />
        <Variable x:TypeArguments="x:String" Default="AzCopy.exe" Name="azCopyExe" />
      </mtbwa:AgentScope.Variables>
      <mtbac:InitializeEnvironment BinariesFolder="bin" DisplayName="Initialize environment" sap2010:WorkflowViewState.IdRef="InitializeEnvironment_3" SourceFolder="src" TestResultsFolder="tst" />
      <Sequence DisplayName="Initialize Variables" sap2010:WorkflowViewState.IdRef="Sequence_2">
        <Assign DisplayName="Get the Gradle Build Script Relative Path" sap2010:WorkflowViewState.IdRef="Assign_10">
          <Assign.To>
            <OutArgument x:TypeArguments="x:String">[gradleBuildScriptRelativePath]</OutArgument>
          </Assign.To>
          <Assign.Value>
            <InArgument x:TypeArguments="x:String">[GradleBuildScript.GetValue(0).ToString]</InArgument>
          </Assign.Value>
        </Assign>
        <Assign DisplayName="Extract the Gradle Build Script Name" sap2010:WorkflowViewState.IdRef="Assign_1">
          <Assign.To>
            <OutArgument x:TypeArguments="x:String">[gradleBuildScriptName]</OutArgument>
          </Assign.To>
          <Assign.Value>
            <InArgument x:TypeArguments="x:String">[gradleBuildScriptRelativePath.Substring(gradleBuildScriptRelativePath.LastIndexOf("\") + 1)]</InArgument>
          </Assign.Value>
        </Assign>
        <Sequence DisplayName="Get the Local Path of Gradle Build Script" sap2010:WorkflowViewState.IdRef="Sequence_1">
          <mtbac:GetLocalPath DisplayName="Get the Full Local Path of Gradle Build Script" sap2010:WorkflowViewState.IdRef="GetLocalPath_1" mtbwt:BuildTrackingParticipant.Importance="Low" IncomingPath="[gradleBuildScriptRelativePath]" Result="[gradleBuildScriptLocalPath]" />
          <Assign DisplayName="Extract the Gradle Build Script Folder" sap2010:WorkflowViewState.IdRef="Assign_3">
            <Assign.To>
              <OutArgument x:TypeArguments="x:String">[gradleBuildScriptLocalPath]</OutArgument>
            </Assign.To>
            <Assign.Value>
              <InArgument x:TypeArguments="x:String">[gradleBuildScriptLocalPath.Substring(0, gradleBuildScriptLocalPath.LastIndexOf("\"))]</InArgument>
            </Assign.Value>
          </Assign>
        </Sequence>
        <Assign DisplayName="Set the Gradle Build Output Path" sap2010:WorkflowViewState.IdRef="Assign_22">
          <Assign.To>
            <OutArgument x:TypeArguments="x:String">[gradleBuildOutputPath]</OutArgument>
          </Assign.To>
          <Assign.Value>
            <InArgument x:TypeArguments="x:String">[gradleBuildScriptLocalPath + gradleBuildDir]</InArgument>
          </Assign.Value>
        </Assign>
        <mtbwa:GetBuildDetail sap2010:WorkflowViewState.IdRef="GetBuildDetail_1" Result="[buildDetail]" />
        <Assign DisplayName="Get the Build Number" sap2010:WorkflowViewState.IdRef="Assign_28">
          <Assign.To>
            <OutArgument x:TypeArguments="x:String">[buildNumber]</OutArgument>
          </Assign.To>
          <Assign.Value>
            <InArgument x:TypeArguments="x:String">[buildDetail.BuildNumber]</InArgument>
          </Assign.Value>
        </Assign>
      </Sequence>
      <Sequence DisplayName="Validate Build inputs" sap2010:WorkflowViewState.IdRef="Sequence_4">
        <If Condition="[GradleBuildScript.Length &gt; 1]" DisplayName="Check if only one Gradle Build Script is provided" sap2010:WorkflowViewState.IdRef="If_14">
          <If.Then>
            <mtbwa:WriteBuildWarning DisplayName="More than 1 Gradle Build Script" sap2010:WorkflowViewState.IdRef="WriteBuildWarning_1" Message="More than one Gradle Build Script is provided. Only the first one will be considered for this build." mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
          </If.Then>
        </If>
        <If Condition="[Not String.IsNullOrEmpty(GradleCommand) And GradleCommand.Equals(&quot;gradlew&quot;)]" DisplayName="Is the command to be executed 'gradle' or 'gradlew'?" sap2010:WorkflowViewState.IdRef="If_4">
          <If.Then>
            <TryCatch sap2010:WorkflowViewState.IdRef="TryCatch_3">
              <TryCatch.Try>
                <Sequence DisplayName="Validate inputs for 'gradlew' command" sap2010:WorkflowViewState.IdRef="Sequence_10">
                  <If Condition="[GradleWrapperBatchFile.Length &gt; 1]" DisplayName="Check if only one Gradle Wrapper Batch file is provided" sap2010:WorkflowViewState.IdRef="If_15">
                    <If.Then>
                      <mtbwa:WriteBuildWarning DisplayName="More than 1 Gradle Wrapper Batch File" sap2010:WorkflowViewState.IdRef="WriteBuildWarning_2" Message="More than one Gradle Wrapper Batch file is provided. Only the first one will be considered for this build." mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                    </If.Then>
                  </If>
                  <If Condition="[Not String.IsNullOrEmpty(GradleWrapperBatchFile.GetValue(0).ToString)]" DisplayName="Is Gradle Wrapper Batch file Relative Path provided?" sap2010:WorkflowViewState.IdRef="If_18">
                    <If.Then>
                      <mtbac:GetLocalPath DisplayName="Get the Local Path of Gradle Wrapper Batch File" sap2010:WorkflowViewState.IdRef="GetLocalPath_8" IncomingPath="[GradleWrapperBatchFile.GetValue(0).ToString]" Result="[gradleCommandExecution]" />
                    </If.Then>
                  </If>
                </Sequence>
              </TryCatch.Try>
              <TryCatch.Catches>
                <Catch x:TypeArguments="s:NullReferenceException" sap2010:WorkflowViewState.IdRef="Catch`1_3">
                  <ActivityAction x:TypeArguments="s:NullReferenceException">
                    <ActivityAction.Argument>
                      <DelegateInArgument x:TypeArguments="s:NullReferenceException" Name="exception" />
                    </ActivityAction.Argument>
                    <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Gradle Wrapper Batch File Relative Path is not provided&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_11" />
                  </ActivityAction>
                </Catch>
              </TryCatch.Catches>
            </TryCatch>
          </If.Then>
          <If.Else>
            <Sequence DisplayName="Validate %GRADLE_HOME%" sap2010:WorkflowViewState.IdRef="Sequence_24">
              <mtbac:GetEnvironmentVariable x:TypeArguments="x:String" DisplayName="Get the Environment Variable %GRADLE_HOME%" sap2010:WorkflowViewState.IdRef="GetEnvironmentVariable`1_4" Name="GRADLE_HOME" Result="[gradleHome]" />
              <If Condition="[String.IsNullOrEmpty(gradleHome)]" DisplayName="Is Environment Variable %GRADLE_HOME% set?" sap2010:WorkflowViewState.IdRef="If_44">
                <If.Then>
                  <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;GRADLE_HOME environment variable is not set&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_24" />
                </If.Then>
                <If.Else>
                  <Assign DisplayName="Using %GRADLE_HOME%, get the path of gradle.bat" sap2010:WorkflowViewState.IdRef="Assign_31" mtbwt:BuildTrackingParticipant.Importance="Low">
                    <Assign.To>
                      <OutArgument x:TypeArguments="x:String">[gradleCommandExecution]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="x:String">[gradleHome + gradleBatFile]</InArgument>
                    </Assign.Value>
                  </Assign>
                </If.Else>
              </If>
            </Sequence>
          </If.Else>
        </If>
        <TryCatch DisplayName="Try - Gradle Settings File" sap2010:WorkflowViewState.IdRef="TryCatch_4">
          <TryCatch.Try>
            <Sequence DisplayName="Validate for Gradle Settings file, if provided" sap2010:WorkflowViewState.IdRef="Sequence_11">
              <If Condition="[GradleSettingsFile.Length &gt; 1]" DisplayName="Check if only one Gradle Settings File is provided" sap2010:WorkflowViewState.IdRef="If_19">
                <If.Then>
                  <mtbwa:WriteBuildWarning DisplayName="More than 1 Gradle Settings File" sap2010:WorkflowViewState.IdRef="WriteBuildWarning_3" Message="More than one Gradle Settings File is provided. Only the first one will be considered for this build." mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                </If.Then>
              </If>
              <If Condition="[Not String.IsNullOrEmpty(GradleSettingsFile.GetValue(0).ToString)]" DisplayName="Is Gradle Settings File provided?" sap2010:WorkflowViewState.IdRef="If_20">
                <If.Then>
                  <Sequence DisplayName="Construct the Gradle Build Option for Gradle Settings File" sap2010:WorkflowViewState.IdRef="Sequence_12">
                    <mtbac:GetLocalPath DisplayName="Get the Local Path of Gradle Settings file" sap2010:WorkflowViewState.IdRef="GetLocalPath_9" IncomingPath="[GradleSettingsFile.GetValue(0).ToString]" Result="[localPath]" />
                    <Assign sap2010:WorkflowViewState.IdRef="Assign_13">
                      <Assign.To>
                        <OutArgument x:TypeArguments="x:String">[gradleCommandOptions]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="x:String">[" -c """ + localPath + """"]</InArgument>
                      </Assign.Value>
                    </Assign>
                  </Sequence>
                </If.Then>
              </If>
            </Sequence>
          </TryCatch.Try>
          <TryCatch.Catches>
            <Catch x:TypeArguments="s:NullReferenceException" sap2010:WorkflowViewState.IdRef="Catch`1_4">
              <ActivityAction x:TypeArguments="s:NullReferenceException">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="s:NullReferenceException" Name="exception" />
                </ActivityAction.Argument>
                <mtbwa:WriteBuildMessage DisplayName="No Gradle Settings File" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_15" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="No Gradle Settings file for this build" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
              </ActivityAction>
            </Catch>
          </TryCatch.Catches>
        </TryCatch>
        <TryCatch DisplayName="Try - Gradle Init Script(s)" sap2010:WorkflowViewState.IdRef="TryCatch_5">
          <TryCatch.Try>
            <If Condition="[GradleInitScripts.Length &gt;= 1]" DisplayName="Check if Gradle Init Script(s) is provided" sap2010:WorkflowViewState.IdRef="If_23">
              <If.Then>
                <ForEach x:TypeArguments="x:String" DisplayName="ForEach&lt;String&gt;" sap2010:WorkflowViewState.IdRef="ForEach`1_2" Values="[GradleInitScripts.ToArray]">
                  <ActivityAction x:TypeArguments="x:String">
                    <ActivityAction.Argument>
                      <DelegateInArgument x:TypeArguments="x:String" Name="initScript" />
                    </ActivityAction.Argument>
                    <Sequence DisplayName="Construct the Gradle Build Option for Gradle Init Script(s)" sap2010:WorkflowViewState.IdRef="Sequence_13">
                      <mtbac:GetLocalPath DisplayName="Get the Local Path of Gradle Init Script" sap2010:WorkflowViewState.IdRef="GetLocalPath_11" IncomingPath="[initScript]" Result="[localPath]" />
                      <Assign sap2010:WorkflowViewState.IdRef="Assign_14">
                        <Assign.To>
                          <OutArgument x:TypeArguments="x:String">[gradleCommandOptions]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="x:String">[gradleCommandOptions + " -I """ + localPath + """"]</InArgument>
                        </Assign.Value>
                      </Assign>
                    </Sequence>
                  </ActivityAction>
                </ForEach>
              </If.Then>
            </If>
          </TryCatch.Try>
          <TryCatch.Catches>
            <Catch x:TypeArguments="s:NullReferenceException" sap2010:WorkflowViewState.IdRef="Catch`1_5">
              <ActivityAction x:TypeArguments="s:NullReferenceException">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="s:NullReferenceException" Name="exception" />
                </ActivityAction.Argument>
                <mtbwa:WriteBuildMessage DisplayName="No Gradle Init Scripts" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_16" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="No Gradle Init Scripts for this build" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
              </ActivityAction>
            </Catch>
          </TryCatch.Catches>
        </TryCatch>
      </Sequence>
      <If Condition="[Not ContinuousDeployment]" DisplayName="Is Continuous Deployment True?" sap2010:WorkflowViewState.IdRef="If_34">
        <If.Then>
          <mtbwa:WriteBuildMessage DisplayName="Continuous Deployment False" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_24" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="Continuous Deployment flag is False. Hence build binaries will not be deployed" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
        </If.Then>
        <If.Else>
          <Sequence DisplayName="Validate Continuous Deployment inputs" sap2010:WorkflowViewState.IdRef="Sequence_23">
            <If Condition="[String.IsNullOrEmpty(DeploymentMSIPath)]" DisplayName="Is Deployment MSI path provided?" sap2010:WorkflowViewState.IdRef="If_50">
              <If.Then>
                <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Deployment MSI Path is not provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_29" />
              </If.Then>
            </If>
            <If Condition="[String.IsNullOrEmpty(AzureSubscriptionName)]" DisplayName="Is Azure Subscription Name provided?" sap2010:WorkflowViewState.IdRef="If_49">
              <If.Then>
                <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Azure Subscription Name is not provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_27" />
              </If.Then>
            </If>
            <If Condition="[String.IsNullOrEmpty(AzureStorageContainerURL) Or String.IsNullOrEmpty(AzureStorageAccountKey)]" DisplayName="Validate Azure Storage inputs" sap2010:WorkflowViewState.IdRef="If_33">
              <If.Then>
                <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Provide both: 'Azure Storage Account Key' and 'Azure Storage Blob Container URL' for Build Binaries to be uploaded to Azure Storage&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_14" />
              </If.Then>
              <If.Else>
                <Sequence DisplayName="Validate %AZCOPY%" sap2010:WorkflowViewState.IdRef="Sequence_25">
                  <mtbac:GetEnvironmentVariable x:TypeArguments="x:String" DisplayName="Get the Environment Variable %AZCOPY%" sap2010:WorkflowViewState.IdRef="GetEnvironmentVariable`1_5" Name="AZCOPY" Result="[azCopyPath]" />
                  <If Condition="[String.IsNullOrEmpty(azCopyPath)]" DisplayName="Is Environment Variable %AZCOPY% set?" sap2010:WorkflowViewState.IdRef="If_45">
                    <If.Then>
                      <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;AZCOPY environment variable is not set&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_25" />
                    </If.Then>
                  </If>
                </Sequence>
              </If.Else>
            </If>
            <If Condition="[String.IsNullOrEmpty(CloudServiceName)]" DisplayName="Is Cloud Service Name provided?" sap2010:WorkflowViewState.IdRef="If_35">
              <If.Then>
                <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Cloud Service Name is not provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_17" />
              </If.Then>
            </If>
            <If Condition="[String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;UserName&quot;)) And String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;Password&quot;)) And String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;Certificate&quot;)) And String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;ApplicationPath&quot;))]" DisplayName="Validate Windows VM inputs" sap2010:WorkflowViewState.IdRef="If_39">
              <If.Then>
                <mtbwa:WriteBuildMessage DisplayName="Continuous Deployment False" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_26" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="Windows VM inputs are not provided. Hence deployment will not happen to any Windows VMs in the Cloud Service, if present" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
              </If.Then>
              <If.Else>
                <If Condition="[String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;UserName&quot;)) Or String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;Password&quot;)) Or String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;Certificate&quot;)) Or String.IsNullOrEmpty(WindowsVM.GetValue(Of String)(&quot;ApplicationPath&quot;))]" DisplayName="Windows VM - Are all details provided?" sap2010:WorkflowViewState.IdRef="If_38">
                  <If.Then>
                    <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Windows VM inputs are not completely provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_20" />
                  </If.Then>
                  <If.Else>
                    <Assign DisplayName="VM inputs provided" sap2010:WorkflowViewState.IdRef="Assign_33">
                      <Assign.To>
                        <OutArgument x:TypeArguments="x:Boolean">[vmInputsProvided]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                      </Assign.Value>
                    </Assign>
                  </If.Else>
                </If>
              </If.Else>
            </If>
            <If Condition="[String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;UserName&quot;)) And String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;SSHKeyFile&quot;)) And String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;ApplicationPath&quot;))]" DisplayName="Validate Linux VM inputs" sap2010:WorkflowViewState.IdRef="If_41">
              <If.Then>
                <mtbwa:WriteBuildMessage DisplayName="Continuous Deployment False" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_27" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="Linux VM inputs are not provided. Hence deployment will not happen to any Linux VMs in the Cloud Service, if present" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
              </If.Then>
              <If.Else>
                <If Condition="[String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;UserName&quot;)) Or String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;SSHKeyFile&quot;)) Or String.IsNullOrEmpty(LinuxVM.GetValue(Of String)(&quot;ApplicationPath&quot;))]" DisplayName="Linux VM - Are all details provided?" sap2010:WorkflowViewState.IdRef="If_40">
                  <If.Then>
                    <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Linux VM inputs are not completely provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_21" />
                  </If.Then>
                  <If.Else>
                    <Assign DisplayName="VM inputs provided" sap2010:WorkflowViewState.IdRef="Assign_34">
                      <Assign.To>
                        <OutArgument x:TypeArguments="x:Boolean">[vmInputsProvided]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                      </Assign.Value>
                    </Assign>
                  </If.Else>
                </If>
              </If.Else>
            </If>
            <If Condition="[Not vmInputsProvided]" DisplayName="Are Windows VM and / or Linux VM inputs provided?" sap2010:WorkflowViewState.IdRef="If_47">
              <If.Then>
                <Throw DisplayName="Throw Exception so that build will stop" Exception="[New Exception(&quot;Neither Windows VM nor Linux VM inputs are provided!&quot;)]" sap2010:WorkflowViewState.IdRef="Throw_26" />
              </If.Then>
            </If>
          </Sequence>
        </If.Else>
      </If>
      <mtbag:GitPull CleanRepository="[CleanRepository]" Commit="[CheckoutOverride]" DisplayName="Pull sources from Git repo" Enabled="True" sap2010:WorkflowViewState.IdRef="GitPull_1" />
      <mtba:AssociateChanges DisplayName="Associate the changesets that occurred since the last good build" Enabled="True" sap2010:WorkflowViewState.IdRef="AssociateChanges_1" UpdateWorkItems="[UpdateAssociatedWorkItems]" />
      <TryCatch DisplayName="Try - Build" sap2010:WorkflowViewState.IdRef="TryCatch_1" mtbwt:BuildTrackingParticipant.Importance="Low">
        <TryCatch.Try>
          <Sequence DisplayName="Gradle Build" sap2010:WorkflowViewState.IdRef="Sequence_5">
            <Assign DisplayName="Construct the Gradle Command Options for Build Script and Build Directory" sap2010:WorkflowViewState.IdRef="Assign_24">
              <Assign.To>
                <OutArgument x:TypeArguments="x:String">[gradleCommandOptions]</OutArgument>
              </Assign.To>
              <Assign.Value>
                <InArgument x:TypeArguments="x:String">[" -b """ + gradleBuildScriptLocalPath + "\" + gradleBuildScriptName + """ -PbuildDir=""" + gradleBuildOutputPath + "\" + buildNumber + """ " + gradleCommandOptions]</InArgument>
              </Assign.Value>
            </Assign>
            <ForEach x:TypeArguments="x:String" DisplayName="ForEach&lt;String&gt;" sap2010:WorkflowViewState.IdRef="ForEach`1_3" Values="[GradleTasks]">
              <ActivityAction x:TypeArguments="x:String">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="x:String" Name="gradleTask" />
                </ActivityAction.Argument>
                <Assign DisplayName="Construct the Gradle Command Options with each Gradle Task" sap2010:WorkflowViewState.IdRef="Assign_25">
                  <Assign.To>
                    <OutArgument x:TypeArguments="x:String">[gradleCommandOptions]</OutArgument>
                  </Assign.To>
                  <Assign.Value>
                    <InArgument x:TypeArguments="x:String">[gradleCommandOptions + " " + gradleTask]</InArgument>
                  </Assign.Value>
                </Assign>
              </ActivityAction>
            </ForEach>
            <mtbwa:WriteBuildMessage DisplayName="Gradle Command Execution" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_8" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[gradleCommandExecution + &quot; &quot; + gradleCommandOptions]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
            <mtbwa:InvokeProcess Arguments="[gradleCommandOptions]" DisplayName="Execute Gradle Build" FileName="[gradleCommandExecution]" sap2010:WorkflowViewState.IdRef="InvokeProcess_1" WorkingDirectory="[gradleBuildScriptLocalPath]">
              <mtbwa:InvokeProcess.ErrorDataReceived>
                <ActivityAction x:TypeArguments="x:String">
                  <ActivityAction.Argument>
                    <DelegateInArgument x:TypeArguments="x:String" Name="errOutput" />
                  </ActivityAction.Argument>
                  <mtbwa:WriteBuildError DisplayName="Gradle Build Error" sap2010:WorkflowViewState.IdRef="WriteBuildError_1" Message="[errOutput]" />
                </ActivityAction>
              </mtbwa:InvokeProcess.ErrorDataReceived>
              <mtbwa:InvokeProcess.OutputDataReceived>
                <ActivityAction x:TypeArguments="x:String">
                  <ActivityAction.Argument>
                    <DelegateInArgument x:TypeArguments="x:String" Name="stdOutput" />
                  </ActivityAction.Argument>
                  <mtbwa:WriteBuildMessage DisplayName="Gradle Build Log" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_7" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[stdOutput]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                </ActivityAction>
              </mtbwa:InvokeProcess.OutputDataReceived>
            </mtbwa:InvokeProcess>
          </Sequence>
        </TryCatch.Try>
        <TryCatch.Catches>
          <Catch x:TypeArguments="s:Exception" sap2010:WorkflowViewState.IdRef="Catch`1_1">
            <ActivityAction x:TypeArguments="s:Exception">
              <ActivityAction.Argument>
                <DelegateInArgument x:TypeArguments="s:Exception" Name="ex" />
              </ActivityAction.Argument>
              <Sequence DisplayName="Handle Exception" sap2010:WorkflowViewState.IdRef="Sequence_7">
                <mtba:CreateBuildFailureBug DisplayName="Create a bug for the build failure" Enabled="[CreateWorkItem]" sap2010:WorkflowViewState.IdRef="CreateBuildFailureBug_1" />
                <Rethrow DisplayName="Rethrow the exception so the build will stop" sap2010:WorkflowViewState.IdRef="Rethrow_1" />
              </Sequence>
            </ActivityAction>
          </Catch>
        </TryCatch.Catches>
        <TryCatch.Finally>
          <Sequence DisplayName="Perform Final Build Actions On Agent" sap2010:WorkflowViewState.IdRef="Sequence_8">
            <mtbac:DropBinaries DestinationPath="{x:Null}" DisplayName="Copy binaries to drop" Enabled="True" sap2010:WorkflowViewState.IdRef="DropBinaries_2" SourcePath="[gradleBuildOutputPath]" />
            <mtbac:ResetEnvironment DisplayName="Reset the Environment" sap2010:WorkflowViewState.IdRef="ResetEnvironment_1" />
          </Sequence>
        </TryCatch.Finally>
      </TryCatch>
      <TryCatch DisplayName="Try - Continuous Deployment" sap2010:WorkflowViewState.IdRef="TryCatch_6">
        <TryCatch.Try>
          <If Condition="[ContinuousDeployment]" DisplayName="If Continuous Deployment is True" sap2010:WorkflowViewState.IdRef="If_31">
            <If.Then>
              <Sequence DisplayName="Azure Storage Upload &amp; Deployment to VMs" sap2010:WorkflowViewState.IdRef="Sequence_31">
                <TryCatch DisplayName="Try Azure Storage Upload" sap2010:WorkflowViewState.IdRef="TryCatch_7">
                  <TryCatch.Try>
                    <Sequence DisplayName="Azure Storage Upload" sap2010:WorkflowViewState.IdRef="Sequence_33">
                      <Assign DisplayName="Form the AzCopy Command Arguments" sap2010:WorkflowViewState.IdRef="Assign_37">
                        <Assign.To>
                          <OutArgument x:TypeArguments="x:String">[azCopyCmdArgs]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="x:String">["/S /Y /V /destkey:" + AzureStorageAccountKey + " """ + gradleBuildOutputPath + """ " + AzureStorageContainerURL]</InArgument>
                        </Assign.Value>
                      </Assign>
                      <mtbwa:WriteBuildMessage DisplayName="AzCopy Command" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_31" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[&quot;AzCopy Command to be executed: &quot; + azCopyPath + &quot;\&quot; + azCopyExe + &quot; &quot; + azCopyCmdArgs]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                      <mtbwa:InvokeProcess Arguments="[azCopyCmdArgs]" DisplayName="AzCopy" FileName="[azCopyPath + &quot;\&quot; + azCopyExe]" sap2010:WorkflowViewState.IdRef="InvokeProcess_9">
                        <mtbwa:InvokeProcess.ErrorDataReceived>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="errOutput" />
                            </ActivityAction.Argument>
                            <mtbwa:WriteBuildError sap2010:WorkflowViewState.IdRef="WriteBuildError_9" Message="[errOutput]" />
                          </ActivityAction>
                        </mtbwa:InvokeProcess.ErrorDataReceived>
                        <mtbwa:InvokeProcess.OutputDataReceived>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="stdOutput" />
                            </ActivityAction.Argument>
                            <mtbwa:WriteBuildMessage sap2010:WorkflowViewState.IdRef="WriteBuildMessage_32" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[stdOutput]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                          </ActivityAction>
                        </mtbwa:InvokeProcess.OutputDataReceived>
                      </mtbwa:InvokeProcess>
                    </Sequence>
                  </TryCatch.Try>
                  <TryCatch.Catches>
                    <Catch x:TypeArguments="s:Exception" sap2010:WorkflowViewState.IdRef="Catch`1_7">
                      <ActivityAction x:TypeArguments="s:Exception">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Handle Exception" sap2010:WorkflowViewState.IdRef="Sequence_34">
                          <mtba:CreateBuildFailureBug DisplayName="Create a bug for the Azure Storage Upload" Enabled="[CreateWorkItem]" sap2010:WorkflowViewState.IdRef="CreateBuildFailureBug_3" />
                          <Rethrow DisplayName="Rethrow the exception so the build will stop" sap2010:WorkflowViewState.IdRef="Rethrow_3" />
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                  </TryCatch.Catches>
                </TryCatch>
                <TryCatch sap2010:WorkflowViewState.IdRef="TryCatch_8">
                  <TryCatch.Try>
                    <Sequence DisplayName="Deployment MSI" sap2010:WorkflowViewState.IdRef="Sequence_35">
                      <Assign DisplayName="Form the MSIEXEC Command" sap2010:WorkflowViewState.IdRef="Assign_38">
                        <Assign.To>
                          <OutArgument x:TypeArguments="x:String">[msiExecCmd]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="x:String">["/c msiexec /a """ + DeploymentMSIPath + "\" + deploymentMSIFileName + """"]</InArgument>
                        </Assign.Value>
                      </Assign>
                      <mtbwa:WriteBuildMessage DisplayName="MSIEXEC Command" sap2010:WorkflowViewState.IdRef="WriteBuildMessage_33" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[&quot;MSIEXEC Command to be executed: cmd &quot; + msiExecCmd]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                      <mtbwa:InvokeProcess Arguments="[msiExecCmd]" DisplayName="MSIEXEC" FileName="cmd" sap2010:WorkflowViewState.IdRef="InvokeProcess_10">
                        <mtbwa:InvokeProcess.ErrorDataReceived>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="errOutput" />
                            </ActivityAction.Argument>
                            <mtbwa:WriteBuildError sap2010:WorkflowViewState.IdRef="WriteBuildError_10" Message="[errOutput]" />
                          </ActivityAction>
                        </mtbwa:InvokeProcess.ErrorDataReceived>
                        <mtbwa:InvokeProcess.OutputDataReceived>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="stdOutput" />
                            </ActivityAction.Argument>
                            <mtbwa:WriteBuildMessage sap2010:WorkflowViewState.IdRef="WriteBuildMessage_34" Importance="[Microsoft.TeamFoundation.Build.Client.BuildMessageImportance.High]" Message="[stdOutput]" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces" />
                          </ActivityAction>
                        </mtbwa:InvokeProcess.OutputDataReceived>
                      </mtbwa:InvokeProcess>
                    </Sequence>
                  </TryCatch.Try>
                  <TryCatch.Catches>
                    <Catch x:TypeArguments="s:Exception" sap2010:WorkflowViewState.IdRef="Catch`1_8">
                      <ActivityAction x:TypeArguments="s:Exception">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Handle Exception" sap2010:WorkflowViewState.IdRef="Sequence_36">
                          <mtba:CreateBuildFailureBug DisplayName="Create a bug for the Deployment MSI" Enabled="[CreateWorkItem]" sap2010:WorkflowViewState.IdRef="CreateBuildFailureBug_4" />
                          <Rethrow DisplayName="Rethrow the exception so the build will stop" sap2010:WorkflowViewState.IdRef="Rethrow_4" />
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                  </TryCatch.Catches>
                </TryCatch>
              </Sequence>
            </If.Then>
          </If>
        </TryCatch.Try>
        <TryCatch.Catches>
          <Catch x:TypeArguments="s:Exception" sap2010:WorkflowViewState.IdRef="Catch`1_6">
            <ActivityAction x:TypeArguments="s:Exception">
              <ActivityAction.Argument>
                <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
              </ActivityAction.Argument>
              <Sequence DisplayName="Handle Exception" sap2010:WorkflowViewState.IdRef="Sequence_17">
                <mtba:CreateBuildFailureBug DisplayName="Create a bug for the Continuous Deployment failure" Enabled="[CreateWorkItem]" sap2010:WorkflowViewState.IdRef="CreateBuildFailureBug_2" />
                <Rethrow DisplayName="Rethrow the exception so the build will stop" sap2010:WorkflowViewState.IdRef="Rethrow_2" />
              </Sequence>
            </ActivityAction>
          </Catch>
        </TryCatch.Catches>
      </TryCatch>
    </mtbwa:AgentScope>
    <sads:DebugSymbol.Symbol>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</sads:DebugSymbol.Symbol>
  </Sequence>
  <sap2010:WorkflowViewState.ViewStateManager>
    <sap2010:ViewStateManager>
      <sap2010:ViewStateData Id="SetBuildNumber_1" sap:VirtualizedContainerService.HintSize="1062,22" />
      <sap2010:ViewStateData Id="InitializeEnvironment_3" sap:VirtualizedContainerService.HintSize="1040,22" />
      <sap2010:ViewStateData Id="Assign_10" sap:VirtualizedContainerService.HintSize="264,60" />
      <sap2010:ViewStateData Id="Assign_1" sap:VirtualizedContainerService.HintSize="264,60" />
      <sap2010:ViewStateData Id="GetLocalPath_1" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="Assign_3" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_1" sap:VirtualizedContainerService.HintSize="264,246">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_22" sap:VirtualizedContainerService.HintSize="264,60" />
      <sap2010:ViewStateData Id="GetBuildDetail_1" sap:VirtualizedContainerService.HintSize="264,22" />
      <sap2010:ViewStateData Id="Assign_28" sap:VirtualizedContainerService.HintSize="264,60" />
      <sap2010:ViewStateData Id="Sequence_2" sap:VirtualizedContainerService.HintSize="1040,832">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="WriteBuildWarning_1" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_14" sap:VirtualizedContainerService.HintSize="1018,208" />
      <sap2010:ViewStateData Id="WriteBuildWarning_2" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_15" sap:VirtualizedContainerService.HintSize="464,208" />
      <sap2010:ViewStateData Id="GetLocalPath_8" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_18" sap:VirtualizedContainerService.HintSize="464,208" />
      <sap2010:ViewStateData Id="Sequence_10" sap:VirtualizedContainerService.HintSize="486,580">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Throw_11" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Catch`1_3" sap:VirtualizedContainerService.HintSize="490,108">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_3" sap:VirtualizedContainerService.HintSize="504,998" />
      <sap2010:ViewStateData Id="GetEnvironmentVariable`1_4" sap:VirtualizedContainerService.HintSize="467,22" />
      <sap2010:ViewStateData Id="Throw_24" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Assign_31" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="If_44" sap:VirtualizedContainerService.HintSize="467,208" />
      <sap2010:ViewStateData Id="Sequence_24" sap:VirtualizedContainerService.HintSize="489,394">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_4" sap:VirtualizedContainerService.HintSize="1018,1146" />
      <sap2010:ViewStateData Id="WriteBuildWarning_3" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_19" sap:VirtualizedContainerService.HintSize="464,208" />
      <sap2010:ViewStateData Id="GetLocalPath_9" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="Assign_13" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_12" sap:VirtualizedContainerService.HintSize="264,246">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_20" sap:VirtualizedContainerService.HintSize="464,394" />
      <sap2010:ViewStateData Id="Sequence_11" sap:VirtualizedContainerService.HintSize="486,766">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="WriteBuildMessage_15" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Catch`1_4" sap:VirtualizedContainerService.HintSize="490,108">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_4" sap:VirtualizedContainerService.HintSize="1018,1184">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="GetLocalPath_11" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="Assign_14" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_13" sap:VirtualizedContainerService.HintSize="264,246">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ForEach`1_2" sap:VirtualizedContainerService.HintSize="294,394" />
      <sap2010:ViewStateData Id="If_23" sap:VirtualizedContainerService.HintSize="464,542" />
      <sap2010:ViewStateData Id="WriteBuildMessage_16" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Catch`1_5" sap:VirtualizedContainerService.HintSize="468,108">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_5" sap:VirtualizedContainerService.HintSize="1018,960" />
      <sap2010:ViewStateData Id="Sequence_4" sap:VirtualizedContainerService.HintSize="1040,3742">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="WriteBuildMessage_24" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Throw_29" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_50" sap:VirtualizedContainerService.HintSize="711,208" />
      <sap2010:ViewStateData Id="Throw_27" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_49" sap:VirtualizedContainerService.HintSize="711,208" />
      <sap2010:ViewStateData Id="Throw_14" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="GetEnvironmentVariable`1_5" sap:VirtualizedContainerService.HintSize="464,22" />
      <sap2010:ViewStateData Id="Throw_25" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_45" sap:VirtualizedContainerService.HintSize="464,208" />
      <sap2010:ViewStateData Id="Sequence_25" sap:VirtualizedContainerService.HintSize="486,394">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_33" sap:VirtualizedContainerService.HintSize="711,542" />
      <sap2010:ViewStateData Id="Throw_17" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_35" sap:VirtualizedContainerService.HintSize="711,208" />
      <sap2010:ViewStateData Id="WriteBuildMessage_26" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Throw_20" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Assign_33" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="If_38" sap:VirtualizedContainerService.HintSize="467,208" />
      <sap2010:ViewStateData Id="If_39" sap:VirtualizedContainerService.HintSize="711,356" />
      <sap2010:ViewStateData Id="WriteBuildMessage_27" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Throw_21" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Assign_34" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="If_40" sap:VirtualizedContainerService.HintSize="467,208" />
      <sap2010:ViewStateData Id="If_41" sap:VirtualizedContainerService.HintSize="711,356" />
      <sap2010:ViewStateData Id="Throw_26" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="If_47" sap:VirtualizedContainerService.HintSize="711,208" />
      <sap2010:ViewStateData Id="Sequence_23" sap:VirtualizedContainerService.HintSize="733,2450">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_34" sap:VirtualizedContainerService.HintSize="1040,2598" />
      <sap2010:ViewStateData Id="GitPull_1" sap:VirtualizedContainerService.HintSize="1040,22" />
      <sap2010:ViewStateData Id="AssociateChanges_1" sap:VirtualizedContainerService.HintSize="1040,22" />
      <sap2010:ViewStateData Id="Assign_24" sap:VirtualizedContainerService.HintSize="287,60" />
      <sap2010:ViewStateData Id="Assign_25" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="ForEach`1_3" sap:VirtualizedContainerService.HintSize="287,208" />
      <sap2010:ViewStateData Id="WriteBuildMessage_8" sap:VirtualizedContainerService.HintSize="287,22" />
      <sap2010:ViewStateData Id="WriteBuildError_1" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="WriteBuildMessage_7" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="InvokeProcess_1" sap:VirtualizedContainerService.HintSize="287,278" />
      <sap2010:ViewStateData Id="Sequence_5" sap:VirtualizedContainerService.HintSize="309,812">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="CreateBuildFailureBug_1" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Rethrow_1" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Sequence_7" sap:VirtualizedContainerService.HintSize="222,208">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Catch`1_1" sap:VirtualizedContainerService.HintSize="404,281">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="DropBinaries_2" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="ResetEnvironment_1" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Sequence_8" sap:VirtualizedContainerService.HintSize="222,208">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_1" sap:VirtualizedContainerService.HintSize="1040,1551" />
      <sap2010:ViewStateData Id="Assign_37" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="WriteBuildMessage_31" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="WriteBuildError_9" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="WriteBuildMessage_32" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="InvokeProcess_9" sap:VirtualizedContainerService.HintSize="242,278" />
      <sap2010:ViewStateData Id="Sequence_33" sap:VirtualizedContainerService.HintSize="264,564">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="CreateBuildFailureBug_3" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Rethrow_3" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Sequence_34" sap:VirtualizedContainerService.HintSize="222,208">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Catch`1_7" sap:VirtualizedContainerService.HintSize="404,281">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_7" sap:VirtualizedContainerService.HintSize="418,1155" />
      <sap2010:ViewStateData Id="Assign_38" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="WriteBuildMessage_33" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="WriteBuildError_10" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="WriteBuildMessage_34" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="InvokeProcess_10" sap:VirtualizedContainerService.HintSize="242,278" />
      <sap2010:ViewStateData Id="Sequence_35" sap:VirtualizedContainerService.HintSize="264,564">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="CreateBuildFailureBug_4" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Rethrow_4" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Sequence_36" sap:VirtualizedContainerService.HintSize="222,208">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Catch`1_8" sap:VirtualizedContainerService.HintSize="404,281">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_8" sap:VirtualizedContainerService.HintSize="418,1155" />
      <sap2010:ViewStateData Id="Sequence_31" sap:VirtualizedContainerService.HintSize="440,2474">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_31" sap:VirtualizedContainerService.HintSize="565,2622" />
      <sap2010:ViewStateData Id="CreateBuildFailureBug_2" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Rethrow_2" sap:VirtualizedContainerService.HintSize="200,22" />
      <sap2010:ViewStateData Id="Sequence_17" sap:VirtualizedContainerService.HintSize="222,208">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Catch`1_6" sap:VirtualizedContainerService.HintSize="569,281">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TryCatch_6" sap:VirtualizedContainerService.HintSize="1040,3213" />
      <sap2010:ViewStateData Id="AgentScope_1" sap:VirtualizedContainerService.HintSize="1062,12406" />
      <sap2010:ViewStateData Id="Sequence_6" sap:VirtualizedContainerService.HintSize="1084,12592">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="TfsBuild.Process_1" sap:VirtualizedContainerService.HintSize="1124,12672">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="ShouldExpandAll">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
    </sap2010:ViewStateManager>
  </sap2010:WorkflowViewState.ViewStateManager>
</Activity>